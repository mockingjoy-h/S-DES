S-DES算法实现 测试结果
=
重庆大学大数据与软件学院信息安全导论实验S-DES算法的实现，在胡海波老师的指导下，由刘雨航和韩奕牛共同完成。

编程与测试要求
-
第1关：  
根据S-DES算法编写和调试程序，提供GUI解密支持用户交互。输入可以是8bit的数据和10bit的密钥，输出是8bit的密文。  

第2关：  
交叉测试考虑到是算法标准，所有人在编写程序的时候需要使用相同算法流程和转换单元(P-Box、S-Box等)，以保证算法和程序在异构的系统或平台上都可以正常运行。设有A和B两组位同学(选择相同的密钥K)；则A、B组同学编写的程序对明文P进行加密得到相同的密文C；或者B组同学接收到A组程序加密的密文C，使用B组程序进行解密可得到与A相同的P。  

第3关：  
扩展功能考虑到向实用性扩展，加密算法的数据输入可以是ASII编码字符串(分组为1 Byte)，对应地输出也可以是ACII字符串(很可能是乱码)。  

第4关：  
暴力破解假设你找到了使用相同密钥的明、密文对(一个或多个)，请尝试使用暴力破解的方法找到正确的密钥Key。在编写程序时，你也可以考虑使用多线程的方式提升破解的效率。请设定时间戳，用视频或动图展示你在多长时间内完成了暴力破解。  

第5关：  
封闭测试根据第4关的结果，进一步分析，对于你随机选择的一个明密文对，是不是有不止一个密钥Key？进一步扩展，对应明文空间任意给定的明文分组P_{n}，是否会出现选择不同的密钥K_{i}\ne K_{j}加密得到相同密文C_n的情况？  

第1关 UI界面设计
-
如下图所示，在此界面中我们可以输入数据与密钥进行加密、解密，并且可以选择输入与输出的内容是二进制数还是ASCII码。  

<img width="500" alt="image" src="https://github.com/mockingjoy-h/S-DES/assets/147220129/d93fd001-1a83-48d3-ade7-9eaa75a31689">  

第2关 基础加密算法的实现
-
使用密钥1010101010对明文11110000进行加密：

<img width="500" alt="image" src="https://github.com/mockingjoy-h/S-DES/assets/147220129/292ea206-e857-46fa-a262-0037b8aa518e">

加密结果：

<img width="500" alt="image" src="https://github.com/mockingjoy-h/S-DES/assets/147220129/37342d85-408f-4973-af20-44bebab1d046">

进行解密及结果：

<img width="500" alt="image" src="https://github.com/mockingjoy-h/S-DES/assets/147220129/750e51a8-bab6-4873-b231-83b5b3b5e8fc">

上述结果已与朱清杨等组交叉测试通过。

第3关 ASCII码的加密解密的实现
-
使用密钥1010101010对字符串helloworld进行加密：

<img width="500" alt="image" src="https://github.com/mockingjoy-h/S-DES/assets/147220129/a5dfd047-3d8b-41f2-ad09-d721bb907e51">

上述结果已与朱清杨等组交叉测试通过。

第4关 暴力破解
-
在crack.java文件中，我们可以通过输入明文密文组数以及其对应的明文密文，可以破解出一组或多组的明文密文的密钥，并得出运算时间和多组破解的平均时间（时间精确到0.1毫秒，少于0.1毫秒则为0）。

破解单组明文密文，明文为10010001，密文为10001001，过程及结果如下图所示：

<img width="1004" alt="image" src="https://github.com/mockingjoy-h/S-DES/assets/147220129/fb36b071-d5fe-47a6-ad93-26d7ddc7a37d">

破解多组明文密文，具体数据如下：  

明文1：10010001，密文1：10001001  
明文2：11111111，密文2：11111111  
明文3：11001100，密文3：10101010  
明文4：10110011，密文4：10011010  

运行过程及结果：

<img width="796" alt="image" src="https://github.com/mockingjoy-h/S-DES/assets/147220129/c6ca5c0f-cd23-485f-ac48-472af8b0bc8f">

第5关 封闭测试
-
我们是ClosedTest.java文件进行封闭测试，输入明文11110000，密文10101010，运行结果如下：

<img width="735" alt="image" src="https://github.com/mockingjoy-h/S-DES/assets/147220129/9b19688c-e7b8-4b95-a2a7-ebd63c0fa2a5">

从结果可知，随机一个明密文对可能不止一个密钥key。由此可以得到对应明文空间任意给定的明文分组P_{n}，会出现选择不同的密钥K_{i}\ne K_{j}加密得到相同密文C_n的情况。

SDES程序用户指南
=
一、简介
-
S-DES（Simplified Data Encryption Standard）是一种简化版的数据加密算法标准，适用于小规模的数据加密需求。本用户指南提供了一个基于《信息安全导论》课程第五讲内容实现的S-DES算法加密解密程序。

二、功能概述
-
本程序提供以下四个主要功能:  

1.选择是对二进制编码加解密还是字符文本进行加解密： 

（1）加密：使用S-DES算法对输入的明文进行加密。  
（2）解密：使用S-DES算法对输入的密文进行解密。  

2.使用S-DES算法对输入的明密文对进行暴力破解：  

（1）输入多对明密文并得到相应的密钥与破解时间。  
（2）输入一对明密文并得到一个或者多个密钥。  

三、使用方法
-
3.1加解密操作  

1.运行SDESUI文件即可展示加解密UI界面。  
2.选择加解密的形式（二进制/ASCII码）。  
3.输入相应格式的文本进行加密。  
4.输入在通讯过程中使用到的密钥。  
5.点击加密（或解密）按钮获取加密（或解密）后的密文（或明文）。  


3.2破解密钥操作  

1.运行Crack文件。  
2.在终端输入你想要破解的明密文对数量以及相应的明密文对。  
3.得到破解的密钥、破解时间、平均破解时间。  

3.3封闭测试  

1.运行ClosedTest文件。  
2.在终端输入对应的明密文对。  
3.可能得到多个破解的密钥。  

四、加解密参数
-
密钥：S-DES算法使用一个10位二进制密钥。请确保输入正确的密钥以保证加密解密的一致性。  
二进制文本：二进制文本需要保证输入的文本符合二进制格式。  
字符文本：字符文本需要保证输入的文本符合ASCⅡ码规定。  

五、安全性考虑
-
S-DES算法作为一个简单的加密算法，注定不适用于现在的安全通信。由于其密钥空间相对较小，容易受到暴力破解等威胁。可以注意到，此应用程序中也给出了暴力破解的相关代码。因此，SDES代码并不适用于保护安全数据。  


S-DES程序开发手册
=
一、简介
-
本开发手册提供了一个基于S-DES（Simplified Data Encryption Standard）算法的加解密程序的详细接口文档，用于对简单、规模小的数据进行加密、解密与破解操作。

二、接口文档
-
1.SDES.encrypt(String input, String key)  

描述：使用S-DES算法加密输入的明文。  
参数：  
input：String类型，要加密的明文。  
key：String类型，加密使用的密钥。  
返回值：String类型，加密后的密文。  

2.SDES.decrypt(String input, String key)  

描述：使用S-DES算法解密输入的密文。  
参数：  
input：String类型，要解密的密文。  
key：String类型，解密使用的密钥。  
返回值：String类型，解密后的明文。  

3.SDESUI  

描述：SDESUI类是一个图形用户界面，用于加密和解密文本。  
方法：  
actionPerformed(ActionEvent e)：实现ActionListener接口，处理加密和解密按钮的点击事件。  
属性：  
inputLabel：JLabel类型，输入标签。  
keyLabel：JLabel类型，密钥标签。  
outputLabel：JLabel类型，输出标签。  
inputField：JTextField类型，输入文本框。  
keyField：JTextField类型，密钥文本框。  
outputField：JTextField类型，输出文本框。  
binaryInputRadio：JRadioButton类型，二进制输入单选按钮。  
asciiInputRadio：JRadioButton类型，ASCII输入单选按钮。  
binaryOutputRadio：JRadioButton类型，二进制输出单选按钮。  
asciiOutputRadio：JRadioButton类型，ASCII输出单选按钮。  
inputGroup：ButtonGroup类型，输入单选按钮组。  
outputGroup：ButtonGroup类型，输出单选按钮组。  
encryptButton：JButton类型，加密按钮。  
decryptButton：JButton类型，解密按钮。  


4.Crack.main(String[] args)  

描述：Crack类是一个命令行程序，用于破解S-DES加密的文本。  
参数：args数组，命令行参数。  
返回值：无返回值。  
输入：从命令行读取要破解的明密文对数量。  
输出：输出找到的秘钥和破解时间，以及平均破解时间（如果找到了秘钥）。  

三、程序过程详解
-
3.1加密过程详解  

1.初始置换（IP）: 使用初始置换表（IP）对输入的8位明文进行置换，得到置换后的8位序列。  

2.密钥生成: 使用P10对输入的10位密钥进行置换，然后对得到的结果分别进行1位和2位的左移，生成两个子密钥k1和k2。  

3.拓展置换（EP-Box）: 对右半部分8位密文进行拓展置换，扩展为12位。  
子密钥加轮: 将拓展置换后的12位结果与k1进行异或运算，得到12位结果。  

4.S盒置换: 将上一步结果分为两组，分别进行S盒置换。  

5.压缩置换: 对S盒置换后的结果进行压缩置换，得到4位结果。  

6.直接置换（SP-Box）: 对压缩置换后的4位结果进行直接置换。  

7.最终置换（IP^-1）: 将上述结果与初始置换后的4位结果进行异或运算，得到8位加密结果。  

3.2解密过程详解  

1.初始置换（IP^-1）: 使用逆初始置换表（IP^-1）对输入的8位密文进行置换，得到置换后的8位序列。  

2.密钥生成: 使用P10对输入的10位密钥进行置换，然后对得到的结果分别进行1位和2位的左移，生成两个子密钥k1和k2。  

3.拓展置换（EP-Box）: 对右半部分8位密文进行拓展置换，扩展为12位。  
子密钥加轮: 将拓展置换后的12位结果与k2进行异或运算，得到12位结果。  

4.S盒置换: 将上一步结果分为两组，分别进行S盒置换。  

5.压缩置换: 对S盒置换后的结果进行压缩置换，得到4位结果。  

6.直接置换（SP-Box）: 对压缩置换后的4位结果进行直接置换。  

7.最终置换（IP）: 将上述结果与初始置换后的4位密文进行异或运算，得到8位解密结果。  

3.3破解过程详解  

破解过程是通过暴力破解的方式，尝试所有可能的密钥，直到找到正确的密钥，从而解密密文。具体步骤如下：  

1.输入明文和密文。  
2.对于每个可能的密钥，使用SDES解密算法对密文进行解密。  
3.将解密后的明文与输入的明文进行比较，如果相同，则找到了正确的密钥。  
4.输出找到的密钥。  

由于SDES算法的密钥长度较短，只有10位，因此可以通过暴力破解的方式尝试所有可能的密钥。但是，随着计算机运算能力的提高，暴力破解的难度也在增加，因此需要使用更加安全的加密算法来保护数据的安全性。  

四、注意事项：
-
1.该代码使用的是SDES算法，密钥长度为10位，明文和密文长度为8位。  
2.在破解过程中，程序会尝试1024个可能的密钥，因此破解时间可能会很长。  
3.程序中使用了Scanner类来读取用户输入，因此需要确保输入的格式正确。  
4.程序中使用了ArrayList类来存储明文和密文对，因此需要确保输入的数量正确。  
5.程序中使用了SDES类来实现加密和解密，因此需要确保该类的实现正确。  
6.程序中使用了long类型来存储时间，因此需要确保时间的单位正确。  
7.程序中使用了System.nanoTime()方法来获取时间，因此需要确保系统时间的准确性。  


六、结束语
-
本用户指南提供了有关S-DES相关算法程序的使用手册。需要注意的是，如果想要加密敏感性的文件数据，请谨慎使用该算法。如果您有更多的加密需求，请联系专业人士而非使用该算法进行加密。最后，祝您使用愉快！  
